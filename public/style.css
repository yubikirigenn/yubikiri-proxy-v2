/* --- テーマ変数定義 --- */
:root { /* ダークテーマ */
  --bg-gradient: linear-gradient(135deg, #23074d 0%, #cc5333 100%);
  --text-color: #eee; --placeholder-color: #aaa; --title-color: #fff;
  --panel-bg: rgba(30, 30, 30, 0.5); --panel-border-color: rgba(255, 255, 255, 0.1);
  --element-bg: rgba(0, 0, 0, 0.25); --element-border-color: rgba(255, 255, 255, 0.2);
  --element-hover-bg: rgba(0, 0, 0, 0.4); --element-text-color: #eee;
  --button-bg-gradient-start: #bbb; --button-bg-gradient-end: #888;
  --button-text-color: #222; --button-shadow-color: #555;
  --top-bar-bg: rgba(30, 30, 30, 0.5); --top-bar-border-color: rgba(255, 255, 255, 0.1);
  --shadow-color: rgba(0, 0, 0, 0.3);
}
body.light-theme { /* ライトテーマ */
  --bg-gradient: linear-gradient(135deg, #fbc2eb 0%, #a6c1ee 100%);
  --text-color: #1c1e21; --placeholder-color: #666; --title-color: #0d47a1;
  --panel-bg: rgba(255, 255, 255, 0.4); --panel-border-color: rgba(255, 255, 255, 0.3);
  --element-bg: rgba(255, 255, 255, 0.6); --element-border-color: rgba(0, 0, 0, 0.1);
  --element-hover-bg: rgba(255, 255, 255, 0.9); --element-text-color: #1c1e21;
  --button-bg-gradient-start: #007bff; --button-bg-gradient-end: #0056b3;
  --button-text-color: #fff; --button-shadow-color: #00418a;
  --top-bar-bg: rgba(255, 255, 255, 0.4); --top-bar-border-color: rgba(255, 255, 255, 0.3);
  --shadow-color: rgba(0, 0, 0, 0.1);
}

/* --- 基本スタイル --- */
body { margin: 0; font-family: 'Segoe UI', sans-serif; color: var(--text-color); background-image: var(--bg-gradient); background-attachment: fixed; background-size: cover; }

/* --- トップページ --- */
#top-large { text-align: center; margin-top: 100px; transition: opacity 0.3s, display 0.3s; }
#top-large h1 { font-size: 64px; margin-bottom: 40px; color: var(--title-color); text-shadow: 0 3px 6px var(--shadow-color); }
#top-large input { width: 400px; padding: 12px; font-size: 18px; border: 1px solid var(--element-border-color); border-radius: 8px; background: var(--element-bg); color: var(--text-color); box-shadow: inset 0 3px 6px var(--shadow-color); transition: all 0.2s ease; }
#top-large input:focus { border-color: #aaa; outline: none; }
#top-large button { padding: 12px 20px; font-size: 18px; border: 1px solid var(--button-shadow-color); border-radius: 8px; background: linear-gradient(to bottom, var(--button-bg-gradient-start), var(--button-bg-gradient-end)); color: var(--button-text-color); font-weight: bold; box-shadow: 0 6px 0 var(--button-shadow-color), 0 8px 12px var(--shadow-color); cursor: pointer; transition: all 0.2s ease; position: relative; margin-left: 8px; }

/* --- 上部バー --- */
#top-small { position: fixed; top: -80px; left: 0; width: 100%; display: flex; justify-content: center; align-items: center; padding: 12px 0; box-sizing: border-box; transition: top 0.3s ease; z-index: 1000;
  /* ガラスの帯 */
  background: var(--top-bar-bg);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border-bottom: 1px solid var(--top-bar-border-color);
  box-shadow: 0 8px 32px 0 var(--shadow-color);
}
.top-small-content { display: flex; width: 90%; max-width: 800px; gap: 8px; align-items: center; }
#top-small input { flex: 1; height: 36px; padding: 0 12px; font-size: 16px; border-radius: 8px; border: 1px solid var(--element-border-color); background: var(--element-bg); color: var(--text-color); transition: all 0.2s ease; }
#top-small input:focus { border-color: #ccc; outline: none; }
#top-small button { height: 36px; padding: 0 16px; font-size: 16px; font-weight: bold; border-radius: 8px; border: 1px solid var(--button-shadow-color); background: linear-gradient(to bottom, var(--button-bg-gradient-start), var(--button-bg-gradient-end)); color: var(--button-text-color); box-shadow: 0 4px 0 var(--button-shadow-color), 0 5px 8px var(--shadow-color); cursor: pointer; transition: all 0.2s ease; position: relative; }

/* --- ボタンのホバー＆クリックエフェクト (v2のものを復活・統合) --- */
#top-large button:hover, #top-small button:hover { transform: translateY(-1px); }
#top-large button:active, #top-small button:active { transform: translateY(2px); box-shadow: inset 0 3px 6px rgba(0,0,0,0.4); }

/* --- テーマスイッチ --- */
.theme-switch { position: relative; width: 50px; height: 26px; background-color: var(--element-bg); border: 1px solid var(--element-border-color); border-radius: 13px; cursor: pointer; z-index: 1001; flex-shrink: 0; }
.theme-switch-slider { position: absolute; top: 2px; left: 2px; width: 20px; height: 20px; background-color: var(--text-color); border-radius: 50%; transition: transform 0.3s, background-color 0.3s; }
body.light-theme .theme-switch-slider { transform: translateX(24px); }
.theme-switch-top { position: fixed; top: 16px; right: 16px; transition: opacity 0.3s; }
.theme-switch-top.hidden { opacity: 0; pointer-events: none; }

/* --- コンテンツ表示エリア --- */
#content { position: fixed; top: 0; left: 0; height: 100vh; width: 100%; box-sizing: border-box; visibility: hidden; opacity: 0; transition: opacity 0.3s ease; z-index: 900; }
#content.visible { visibility: visible; opacity: 1; }
#content > div { width: 100%; height: 100%; border: none; background: #fff; overflow: auto; }
.version-label { position: fixed; bottom: 10px; right: 14px; font-size: 14px; color: rgba(255, 255, 255, 0.5); text-shadow: 0 1px 2px rgba(0,0,0,0.5); pointer-events: none; user-select: none; z-index: 1002; }
body.light-theme .version-label { color: rgba(0, 0, 0, 0.4); text-shadow: none; }